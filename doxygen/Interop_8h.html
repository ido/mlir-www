<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: include/mlir-c/Bindings/Python/Interop.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">12.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_79e8035470b34d72c544e1d5f313f619.html">mlir-c</a></li><li class="navelem"><a class="el" href="dir_b5bdca1b2e377ba4e592b0fb998cf7a8.html">Bindings</a></li><li class="navelem"><a class="el" href="dir_9734b4d28f486479abbd2a3101b9801e.html">Python</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Interop.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Python.h&gt;</code><br />
<code>#include &quot;<a class="el" href="c_2IR_8h_source.html">mlir-c/IR.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Interop.h:</div>
<div class="dyncontent">
<div class="center"><img src="Interop_8h__incl.png" border="0" usemap="#include_2mlir-c_2Bindings_2Python_2Interop_8h" alt=""/></div>
<map name="include_2mlir-c_2Bindings_2Python_2Interop_8h" id="include_2mlir-c_2Bindings_2Python_2Interop_8h">
<area shape="rect" id="node3" href="c_2IR_8h.html" title="mlir&#45;c/IR.h" alt="" coords="104,95,187,121"/>
<area shape="rect" id="node5" href="c_2Support_8h.html" title="mlir&#45;c/Support.h" alt="" coords="135,169,249,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Interop_8h__dep__incl.png" border="0" usemap="#include_2mlir-c_2Bindings_2Python_2Interop_8hdep" alt=""/></div>
<map name="include_2mlir-c_2Bindings_2Python_2Interop_8hdep" id="include_2mlir-c_2Bindings_2Python_2Interop_8hdep">
<area shape="rect" id="node2" href="IRModules_8cpp.html" title="lib/Bindings/Python\l/IRModules.cpp" alt="" coords="15,95,149,136"/>
</map>
</div>
</div>
<p><a href="Interop_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8540f28325f7d70136b97959e410aaa8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a8540f28325f7d70136b97959e410aaa8">MLIR_PYTHON_CAPSULE_CONTEXT</a>&#160;&#160;&#160;&quot;mlir.ir.Context._CAPIPtr&quot;</td></tr>
<tr class="separator:a8540f28325f7d70136b97959e410aaa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6f6fdfe604b2caaf3ce2862b77a81f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a5b6f6fdfe604b2caaf3ce2862b77a81f">MLIR_PYTHON_CAPSULE_MODULE</a>&#160;&#160;&#160;&quot;mlir.ir.Module._CAPIPtr&quot;</td></tr>
<tr class="separator:a5b6f6fdfe604b2caaf3ce2862b77a81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8f041572cbf0753695b3f869b9d678"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a3d8f041572cbf0753695b3f869b9d678">MLIR_PYTHON_CAPI_PTR_ATTR</a>&#160;&#160;&#160;&quot;_CAPIPtr&quot;</td></tr>
<tr class="memdesc:a3d8f041572cbf0753695b3f869b9d678"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute on MLIR Python objects that expose their C-API pointer.  <a href="#a3d8f041572cbf0753695b3f869b9d678">More...</a><br /></td></tr>
<tr class="separator:a3d8f041572cbf0753695b3f869b9d678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf9f62aa1c55cbc0f4694ae0b3c88bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a6bf9f62aa1c55cbc0f4694ae0b3c88bb">MLIR_PYTHON_CAPI_FACTORY_ATTR</a>&#160;&#160;&#160;&quot;_CAPICreate&quot;</td></tr>
<tr class="memdesc:a6bf9f62aa1c55cbc0f4694ae0b3c88bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute on MLIR Python objects that exposes a factory function for constructing the corresponding Python object from a type-specific capsule wrapping the C-API pointer.  <a href="#a6bf9f62aa1c55cbc0f4694ae0b3c88bb">More...</a><br /></td></tr>
<tr class="separator:a6bf9f62aa1c55cbc0f4694ae0b3c88bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9f150184d1d23abb6ec1f4d626049bf7"><td class="memItemLeft" align="right" valign="top">PyObject *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a9f150184d1d23abb6ec1f4d626049bf7">mlirPythonContextToCapsule</a> (MlirContext context)</td></tr>
<tr class="memdesc:a9f150184d1d23abb6ec1f4d626049bf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a capsule object encapsulating the raw C-API MlirContext.  <a href="#a9f150184d1d23abb6ec1f4d626049bf7">More...</a><br /></td></tr>
<tr class="separator:a9f150184d1d23abb6ec1f4d626049bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648d60d555b54a8763c39ab5ffa8b2f3"><td class="memItemLeft" align="right" valign="top">MlirContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a648d60d555b54a8763c39ab5ffa8b2f3">mlirPythonCapsuleToContext</a> (PyObject *capsule)</td></tr>
<tr class="memdesc:a648d60d555b54a8763c39ab5ffa8b2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a MlirContext from a capsule as produced from mlirPythonContextToCapsule.  <a href="#a648d60d555b54a8763c39ab5ffa8b2f3">More...</a><br /></td></tr>
<tr class="separator:a648d60d555b54a8763c39ab5ffa8b2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1a51364007b9b63824d78303c8c106"><td class="memItemLeft" align="right" valign="top">PyObject *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Interop_8h.html#a6e1a51364007b9b63824d78303c8c106">mlirPythonModuleToCapsule</a> (MlirModule module)</td></tr>
<tr class="memdesc:a6e1a51364007b9b63824d78303c8c106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a capsule object encapsulating the raw C-API MlirModule.  <a href="#a6e1a51364007b9b63824d78303c8c106">More...</a><br /></td></tr>
<tr class="separator:a6e1a51364007b9b63824d78303c8c106"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6bf9f62aa1c55cbc0f4694ae0b3c88bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf9f62aa1c55cbc0f4694ae0b3c88bb">&#9670;&nbsp;</a></span>MLIR_PYTHON_CAPI_FACTORY_ATTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MLIR_PYTHON_CAPI_FACTORY_ATTR&#160;&#160;&#160;&quot;_CAPICreate&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attribute on MLIR Python objects that exposes a factory function for constructing the corresponding Python object from a type-specific capsule wrapping the C-API pointer. </p>
<p>The signature of the function is: def _CAPICreate(capsule) -&gt; object Calling such a function implies a transfer of ownership of the object the capsule wraps: after such a call, the capsule should be considered invalid, and its wrapped pointer must not be destroyed.</p>
<p>Only a very small number of Python objects can be created in such a fashion (i.e. top-level types such as Context where the lifetime can be cleanly delineated). </p>

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00053">53</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="IRModules_8cpp_source.html#l00695">mlir::python::PyType::operator==()</a>.</p>

</div>
</div>
<a id="a3d8f041572cbf0753695b3f869b9d678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8f041572cbf0753695b3f869b9d678">&#9670;&nbsp;</a></span>MLIR_PYTHON_CAPI_PTR_ATTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MLIR_PYTHON_CAPI_PTR_ATTR&#160;&#160;&#160;&quot;_CAPIPtr&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attribute on MLIR Python objects that expose their C-API pointer. </p>
<p>This will be a type-specific capsule created as per one of the helpers below.</p>
<p>Ownership is not transferred by acquiring a capsule in this way: the validity of the pointer wrapped by the capsule will be bounded by the lifetime of the Python object that produced it. Only the name and pointer of the capsule are set. The caller is free to set a destructor and context as needed to manage anything further. </p>

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00040">40</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="IRModules_8cpp_source.html#l00695">mlir::python::PyType::operator==()</a>.</p>

</div>
</div>
<a id="a8540f28325f7d70136b97959e410aaa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8540f28325f7d70136b97959e410aaa8">&#9670;&nbsp;</a></span>MLIR_PYTHON_CAPSULE_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MLIR_PYTHON_CAPSULE_CONTEXT&#160;&#160;&#160;&quot;mlir.ir.Context._CAPIPtr&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00028">28</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Interop_8h_source.html#l00071">mlirPythonCapsuleToContext()</a>, and <a class="el" href="Interop_8h_source.html#l00063">mlirPythonContextToCapsule()</a>.</p>

</div>
</div>
<a id="a5b6f6fdfe604b2caaf3ce2862b77a81f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6f6fdfe604b2caaf3ce2862b77a81f">&#9670;&nbsp;</a></span>MLIR_PYTHON_CAPSULE_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MLIR_PYTHON_CAPSULE_MODULE&#160;&#160;&#160;&quot;mlir.ir.Module._CAPIPtr&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00029">29</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Interop_8h_source.html#l00080">mlirPythonModuleToCapsule()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a648d60d555b54a8763c39ab5ffa8b2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a648d60d555b54a8763c39ab5ffa8b2f3">&#9670;&nbsp;</a></span>mlirPythonCapsuleToContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MlirContext mlirPythonCapsuleToContext </td>
          <td>(</td>
          <td class="paramtype">PyObject *&#160;</td>
          <td class="paramname"><em>capsule</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts a MlirContext from a capsule as produced from mlirPythonContextToCapsule. </p>
<p>If the capsule is not of the right type, then a null context is returned (as checked via mlirContextIsNull). In such a case, the Python APIs will have already set an error. </p>

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00071">71</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">References <a class="el" href="Interop_8h_source.html#l00028">MLIR_PYTHON_CAPSULE_CONTEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="IRModules_8cpp_source.html#l00461">mlir::python::PyMlirContext::createFromCapsule()</a>.</p>

</div>
</div>
<a id="a9f150184d1d23abb6ec1f4d626049bf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f150184d1d23abb6ec1f4d626049bf7">&#9670;&nbsp;</a></span>mlirPythonContextToCapsule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PyObject* mlirPythonContextToCapsule </td>
          <td>(</td>
          <td class="paramtype">MlirContext&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a capsule object encapsulating the raw C-API MlirContext. </p>
<p>The returned capsule does not extend or affect ownership of any Python objects that reference the context in any way. </p>

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00063">63</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">References <a class="el" href="Interop_8h_source.html#l00028">MLIR_PYTHON_CAPSULE_CONTEXT</a>.</p>

<p class="reference">Referenced by <a class="el" href="IRModules_8cpp_source.html#l00457">mlir::python::PyMlirContext::getCapsule()</a>.</p>

</div>
</div>
<a id="a6e1a51364007b9b63824d78303c8c106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1a51364007b9b63824d78303c8c106">&#9670;&nbsp;</a></span>mlirPythonModuleToCapsule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PyObject* mlirPythonModuleToCapsule </td>
          <td>(</td>
          <td class="paramtype">MlirModule&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a capsule object encapsulating the raw C-API MlirModule. </p>
<p>The returned capsule does not extend or affect ownership of any Python objects that reference the module in any way. </p>

<p class="definition">Definition at line <a class="el" href="Interop_8h_source.html#l00080">80</a> of file <a class="el" href="Interop_8h_source.html">Interop.h</a>.</p>

<p class="reference">References <a class="el" href="Interop_8h_source.html#l00029">MLIR_PYTHON_CAPSULE_MODULE</a>.</p>

<p class="reference">Referenced by <a class="el" href="IRModules_8cpp_source.html#l00596">mlir::python::PyModule::getCapsule()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 1 2020 20:35:17 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
